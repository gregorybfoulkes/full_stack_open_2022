{"version":3,"sources":["components/Filter.js","components/PersonForm.js","components/Persons.js","components/Notification.js","services/personservice.js","App.js","index.js"],"names":["Filter","_ref","value","onChange","react_default","a","createElement","PersonForm","newName","newNumber","handleNameChange","handleNumberChange","addPerson","onSubmit","type","Persons","persons","deleteEntry","map","person","i","key","name","number","onClick","id","Notification","message","includes","className","baseUrl","exportObject","newObject","axios","post","then","response","data","allPersons","get","deletePerson","delete","concat","update","put","App","_useState","useState","_useState2","Object","slicedToArray","setPersons","_useState3","_useState4","setNewName","_useState5","_useState6","setNewNumber","_useState7","_useState8","setMessage","_useState9","_useState10","newFilter","setNewFilter","useEffect","personService","allEntries","components_Filter","event","target","filteredPerson","filter","match","components_PersonForm","preventDefault","updatedPerson","objectSpread","newPerson","some","window","confirm","returnPerson","setTimeout","catch","error","console","log","components_Persons","components_Notification","ReactDOM","createRoot","document","getElementById","render","src_App"],"mappings":"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","file":"static/js/main.7fd0384a.chunk.js","sourcesContent":["import React from 'react';\n\nconst Filter = ({value, onChange}) => {\n\n    return (\n    <div>\n        search names: <input value={value} onChange={onChange}/>\n    </div>\n    )\n\n} \n\nexport default Filter","import React from 'react';\n\nconst PersonForm = ({newName,newNumber,handleNameChange,handleNumberChange,addPerson}) => {\n\n    return (\n    <div>\n        <form onSubmit={addPerson}>\n            <div>\n                name: <input value={newName} onChange={handleNameChange}/>\n            </div>\n            <div>\n                number: <input value={newNumber} onChange={handleNumberChange} />\n            </div>\n            <div>\n                <button type=\"submit\" >add</button>\n            </div>\n        </form>  \n    </div>\n    \n    )\n}\n\nexport default PersonForm","import React from 'react';\n\nconst Persons = ({persons, deleteEntry}) => {\n    return (\n\n        <div>{persons.map((person,i) => <p key={i}>{person.name} {person.number}<button onClick={() => deleteEntry(person.id)}>delete</button></p>)}</div>\n\n    )\n}\n\nexport default Persons","import React from 'react';\nimport '../index.css'\n\nconst Notification = ({message}) => {\n\n    if (message === '') {\n        return null\n      }\n      if(message.includes('ERROR')) {\n\n        return(\n            <div>\n                <h2 className='error'>{message}</h2>\n            </div>\n        )\n\n      }else{\n        return(\n            <div>\n                <h2 className='messageStyle'>{message}</h2>\n            </div>\n        )\n      }\n}\n\nexport default Notification","import axios from 'axios';\n\nconst baseUrl = '/api/persons'\n\nconst addPerson = (newObject) => {\nconst request = axios.post(baseUrl, newObject)\n  return request.then(response => response.data)\n}\n\nconst allPersons = () => {\n    const request = axios.get(baseUrl)\n    return request.then(response => response.data)\n}\n\nconst deletePerson = (id) => {\n    const request = axios.delete(`${baseUrl}/${id}`)\n    return request.then(response => response.data)\n  }\n\nconst update = (id, newObject) => {\n    const request = axios.put(`${baseUrl}/${id}`, newObject)\n    return request.then(response => response.data)\n  }\n  \n\nconst exportObject = {addPerson,allPersons,deletePerson,update}\n\nexport default exportObject","import React from 'react';\nimport { useState,useEffect } from 'react'\nimport Filter from './components/Filter'\nimport PersonForm from './components/PersonForm'\nimport Persons from './components/Persons'\nimport Notification from './components/Notification'\nimport personService from './services/personservice'\nimport './index.css'\n\nconst App = () => {\n\n  const [persons, setPersons] = useState([]) \n  const [newName, setNewName] = useState('');\n  const [newNumber, setNewNumber] = useState('');\n  const [message, setMessage] = useState('');\n  const [newFilter, setNewFilter] = useState('');\n\n  useEffect(() => {\n    personService.allPersons()\n    .then(allEntries => setPersons(allEntries))\n  }, [])\n\n  const handleNameChange = (event) => {\n    setNewName(event.target.value)\n  };\n\n  const handleNumberChange = (event) => {\n    setNewNumber(event.target.value)\n  }\n\n  const addPerson = (event) => {\n    event.preventDefault()\n\n    const person = persons.filter(person => person.name === newName)\n    \n    const updatedPerson = {...person[0],number:newNumber}\n    \n    const newPerson = {\n      name:newName,\n      number:newNumber,\n      //id:persons.length +1\n    }\n\n    let checkName = persons.some(person =>  person.name === newPerson.name)\n    \n    if(checkName){\n      if(window.confirm(`${newName} is already added to phonebook, replace old number with new on ?`)){\n        \n        personService.update(updatedPerson.id, updatedPerson)\n        .then( returnPerson => {\n          setPersons(persons.map(allPersons => allPersons.id !== updatedPerson.id ? allPersons: returnPerson))\n          setMessage(`${newName} was updated`)\n          setTimeout(() => {\n            setMessage('')\n          }, 5000)\n        }).catch(error => {\n          console.log(error)\n          setPersons(persons.filter(person => person.id !== updatedPerson.id))\n            setNewName('')\n            setNewNumber('')\n            setMessage(\n              `[ERROR] ${updatedPerson.name} was already deleted from server`\n            )\n            setTimeout(() => {\n              setMessage('')\n            }, 5000)\n        })\n      }\n      \n    }else{\n      personService.addPerson(newPerson)\n      .then( returnPerson => {\n        setPersons(persons.concat(returnPerson))\n        setMessage(`${newPerson.name} was added`)\n        setNewName('')\n        setNewNumber('')\n        setTimeout(() => {\n          setMessage('')\n        }, 5000)\n      })\n    }\n   \n  }\n\n  const filterNames = (event) => {\n    setNewFilter(event.target.value)\n    let filteredPerson = persons.filter(person => person.name.match(newFilter))\n    setPersons(filteredPerson)\n  }\n\n  const deleteEntry = (id) => {\n    \n    let filteredPerson = persons.filter(person => person.id === id)\n    \n    if(window.confirm(`Delete ${filteredPerson[0].name} ?`)){\n      personService.deletePerson(filteredPerson[0].id)\n      .then(setPersons(persons.filter(persons => persons.id !== id )))\n    }\n   \n  }\n\n  return (\n    <div>\n      <h2>Phonebook</h2>\n      <Filter value={newFilter} onChange={filterNames}/> \n      <h2>Add a new</h2>\n      <PersonForm newName={newName} newNumber={newNumber} handleNameChange={handleNameChange} handleNumberChange={handleNumberChange} addPerson={addPerson}/>\n      <h2>Numbers</h2>\n      <Persons persons={persons} deleteEntry={deleteEntry} />\n      <Notification  message={message}/>\n    </div>\n  )\n\n}\n\nexport default App","import React from 'react';\nimport ReactDOM from 'react-dom/client';\nimport App from './App';\n\nconst root = ReactDOM.createRoot(document.getElementById('root'));\nroot.render(\n    <App />\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\n"],"sourceRoot":""}